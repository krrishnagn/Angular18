<!-- Import Bootstrap CSS -->

<div class="container mt-5">
  <div class="card shadow-sm">
    <div class="card-header text-center bg-gray text-black">
      <h4 >Employee Registration Form</h4>
    </div>
    <div class="card-body">
      <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()" novalidate>
        <div class="form-row">
          <div class="form-group col-md-6 mb-3">
            <label for="employeeNumber">Employee Number</label>
            <input id="employeeNumber" type="text" formControlName="employeeNumber" class="form-control" placeholder="Enter employee number" [ngClass]="{'is-invalid': employeeForm.get('employeeNumber')?.invalid && employeeForm.get('employeeNumber')?.touched}">
            <div *ngIf="employeeForm.get('employeeNumber')?.invalid && employeeForm.get('employeeNumber')?.touched" class="invalid-feedback">
              Employee Number is required.
            </div>
          </div>

          <div class="form-group col-md-6 mb-3">
            <label for="firstName">First Name</label>
            <input id="firstName" type="text" formControlName="firstName" class="form-control" placeholder="Enter first name" [ngClass]="{'is-invalid': employeeForm.get('firstName')?.invalid && employeeForm.get('firstName')?.touched}">
            <div *ngIf="employeeForm.get('firstName')?.invalid && employeeForm.get('firstName')?.touched" class="invalid-feedback">
              First Name is required and must be at least 2 characters.
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-md-6 mb-3">
            <label for="lastName">Last Name</label>
            <input id="lastName" type="text" formControlName="lastName" class="form-control" placeholder="Enter last name" [ngClass]="{'is-invalid': employeeForm.get('lastName')?.invalid && employeeForm.get('lastName')?.touched}">
            <div *ngIf="employeeForm.get('lastName')?.invalid && employeeForm.get('lastName')?.touched" class="invalid-feedback">
              Last Name is required and must be at least 2 characters.
            </div>
          </div>

          <div class="form-group col-md-6 mb-3">
            <label for="gender">Gender</label>
            <select id="gender" formControlName="gender" class="form-control" [ngClass]="{'is-invalid': employeeForm.get('gender')?.invalid && employeeForm.get('gender')?.touched}">
              <option value="" disabled>Select Gender</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
              <option value="Other">Other</option>
            </select>
            <div *ngIf="employeeForm.get('gender')?.invalid && employeeForm.get('gender')?.touched" class="invalid-feedback">
              Gender is required.
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-md-6 mb-3">
            <label for="dob">Date of Birth</label>
            <input id="dob" type="date" formControlName="dob" class="form-control" [ngClass]="{'is-invalid': employeeForm.get('dob')?.invalid && employeeForm.get('dob')?.touched}">
            <div *ngIf="employeeForm.get('dob')?.invalid && employeeForm.get('dob')?.touched" class="invalid-feedback">
              Valid Date of Birth is required.
            </div>
          </div>

          <div class="form-group col-md-6 mb-3">
            <label for="joiningDate">Joining Date</label>
            <input id="joiningDate" type="date" formControlName="joiningDate" class="form-control" [ngClass]="{'is-invalid': employeeForm.get('joiningDate')?.invalid && employeeForm.get('joiningDate')?.touched}">
            <div *ngIf="employeeForm.get('joiningDate')?.invalid && employeeForm.get('joiningDate')?.touched" class="invalid-feedback">
              Joining Date is required.
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-md-6 mb-3">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="Category">Position Category</label>
                <select id="Category" formControlName="category" class="form-control" [ngClass]="{'is-invalid': employeeForm.get('category')?.invalid && employeeForm.get('category')?.touched}">
                  <option value="" disabled>Select Position Category</option>
                  <option *ngFor="let pos of positionList" [ngValue]="pos.position">{{ pos.position }}</option>
                </select>
                <div *ngIf="employeeForm.get('category')?.invalid && employeeForm.get('category')?.touched" class="invalid-feedback">
                  Position Category is required.
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label for="position">Position</label>
                <select id="position" formControlName="position" class="form-control" [ngClass]="{'is-invalid': employeeForm.get('position')?.invalid && employeeForm.get('position')?.touched}">
                  <option value="" disabled>Select Position</option>
                  <option *ngFor="let pos of positionsForCategory" [ngValue]="pos.position">{{ pos.position }}</option>
                </select>
                <div *ngIf="employeeForm.get('position')?.invalid && employeeForm.get('position')?.touched" class="invalid-feedback">
                  Position is required.
                </div>
              </div>
            </div>
          </div>
        </div>
        

      
      <div class="form-row">
          <div class="form-group col-md-6 mb-3">
              <label for="email">Email</label>
              <input id="email" type="email" formControlName="email" class="form-control" placeholder="Enter email" [ngClass]="{'is-invalid': employeeForm.get('email')?.invalid && employeeForm.get('email')?.touched}">
              <div *ngIf="employeeForm.get('email')?.invalid && employeeForm.get('email')?.touched" class="invalid-feedback">
                  Valid Email is required.
              </div>
          </div>
      </div>
      

        <div class="form-group col-md-6 mb-4">
          <label for="password">Password</label>
          <input id="password" type="password" formControlName="password" class="form-control" placeholder="Enter password" [ngClass]="{'is-invalid': employeeForm.get('password')?.invalid && employeeForm.get('password')?.touched}">
          <div *ngIf="employeeForm.get('password')?.invalid && employeeForm.get('password')?.touched" class="invalid-feedback">
            Password is required and must be at least 6 characters.
          </div>
        </div>

        <button type="submit" class="btn btn-primary w-100" [disabled]="employeeForm.invalid">Submit</button>
      </form>
    </div>
  </div>
</div>

<div class="modal fade" id="statusModal" tabindex="-1" aria-labelledby="statusModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="statusModalLabel">{{ modalTitle }}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        {{ modalMessage }}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

